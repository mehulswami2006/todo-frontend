{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\L\\\\OneDrive\\\\Desktop\\\\mern-todo-project\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API, { authFetch } from '../api';\nimport TodoInput from '../components/TodoInput';\nimport TodoItem from '../components/TodoItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home({\n  token,\n  setToken\n}) {\n  _s();\n  const [todos, setTodos] = useState([]);\n  const load = async () => {\n    const r = await authFetch('/todos', token);\n    setTodos(Array.isArray(r) ? r : []);\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  const add = async text => {\n    const r = await authFetch('/todos', token, {\n      method: 'POST',\n      body: JSON.stringify({\n        text\n      })\n    });\n    setTodos([r, ...todos]);\n  };\n  const toggle = async id => {\n    const r = await authFetch(`/todos/${id}/toggle`, token, {\n      method: 'PATCH'\n    });\n    setTodos(todos.map(t => t._id === id ? r : t));\n  };\n  const del = async id => {\n    await authFetch(`/todos/${id}`, token, {\n      method: 'DELETE'\n    });\n    setTodos(todos.filter(t => t._id !== id));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 720,\n      margin: '20px auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"My To\\u2011Do\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setToken(null);\n      },\n      children: \"Sign out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(TodoInput, {\n      onAdd: add\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: todos.map(t => /*#__PURE__*/_jsxDEV(TodoItem, {\n        todo: t,\n        onToggle: () => toggle(t._id),\n        onDelete: () => del(t._id)\n      }, t._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 16\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 1\n  }, this);\n}\n_s(Home, \"JnLCAthSQQdxe1DKMBKhk9pX8ik=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","API","authFetch","TodoInput","TodoItem","jsxDEV","_jsxDEV","Home","token","setToken","_s","todos","setTodos","load","r","Array","isArray","add","text","method","body","JSON","stringify","toggle","id","map","t","_id","del","filter","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onAdd","todo","onToggle","onDelete","_c","$RefreshReg$"],"sources":["C:/Users/L/OneDrive/Desktop/mern-todo-project/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport API, { authFetch } from '../api';\r\nimport TodoInput from '../components/TodoInput';\r\nimport TodoItem from '../components/TodoItem';\r\n\r\n\r\nexport default function Home({ token, setToken }){\r\nconst [todos,setTodos]=useState([]);\r\nconst load = async ()=>{\r\nconst r = await authFetch('/todos', token);\r\nsetTodos(Array.isArray(r)?r:[]);\r\n};\r\nuseEffect(()=>{ load(); },[]);\r\nconst add = async (text)=>{ const r = await authFetch('/todos', token, { method:'POST', body: JSON.stringify({ text }) }); setTodos([r, ...todos]); };\r\nconst toggle = async (id)=>{ const r = await authFetch(`/todos/${id}/toggle`, token, { method:'PATCH' }); setTodos(todos.map(t=>t._id===id?r:t)); };\r\nconst del = async (id)=>{ await authFetch(`/todos/${id}`, token, { method:'DELETE' }); setTodos(todos.filter(t=>t._id!==id)); };\r\nreturn (\r\n<div style={{maxWidth:720,margin:'20px auto'}}>\r\n<h1>My Toâ€‘Do</h1>\r\n<button onClick={()=>{ setToken(null); }}>Sign out</button>\r\n<TodoInput onAdd={add} />\r\n<div>\r\n{todos.map(t=> <TodoItem key={t._id} todo={t} onToggle={()=>toggle(t._id)} onDelete={()=>del(t._id)} />)}\r\n</div>\r\n</div>\r\n);\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}